<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>YJwork</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" type="text/css" href="/css/myHistory.css">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script>
		$(function() {
			$("#upload_file").change(function(e){
				//alert($('input[type=file]')[0].files[0].name); //파일이름
				//alert($("#upload_file")[0].files[0].type); // 파일 타임
				//alert($("#upload_file")[0].files[0].size); // 파일 크기
				document.getElementById("file_route").value = $('input[type=file]')[0].files[0].name;
    });

});

		function clickToSubmit() {
			var addHistoryForm = document.addHistoryForm;
			var textVal = document.getElementById("contents_text").value;
			var fileVal = document.getElementById("file_route").value;
			
			if(!textVal && fileVal == "파일 선택") {
				alert("내용을 채워주세요.");
				return "empty history";
			}
			addHistoryForm.submit();
		}
        
    </script>
</head>
<body>
	<div class="wrap">
		<div class="header">
			<div class="header_mid_sort">
				<h1 id="title_link"><a href="/main">YJwork</a></h1>
			</div>
		</div>
		<div class="container">
			<div class="container_mid_sort">
				<div id="title_wrap"><h1 id="title">히스토리 추가</h1></div>
				<div id="text_form_container">
					<form action="/history/AddHistory" method="POST" name="addHistoryForm" enctype="multipart/form-data">
						<input type="hidden" th:value="${groupViewIdx}" name="groupViewIdx">
						<div id="text_form"><textarea name="contents_text" id="contents_text"></textarea></div>
						<div>
						    <br>
						    <input type="text" id="file_route" disabled="disabled" value="파일 선택" style="width: 300px;">
						    <label for="upload_file" style="border: solid 1px black;">업로드</label>
						    <input type="file" id="upload_file" name="upload_file" accept="image/*"
						    style="position:absolute; clip:rect(0, 0, 0, 0);">
							
						</div>
						<div id="submit_btn_div"><input type="button" onclick="clickToSubmit();" value="완료"></div>
					</form>
				</div>
			</div>
		</div>
		<div class="footer">
			<div class="footer_mid_sort">
				<span id="footer_discription">개발자 문의 이메일 dbswhddnr456@naver.com &nbsp;&nbsp;&nbsp; 운용자 문의 이메일 example@naver.com</span>
			</div>
		</div>
	</div>
</body>
</html>